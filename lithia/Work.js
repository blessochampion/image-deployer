"use strict";(()=>{var s="data",a={positionsCount:`[${s}=positions-count]`,viewOpportunities:`[${s}=view-opportunities]`,usLoadAll:`[${s}=us-load-all-container]`,count:`[${s}=count]`,locationCount:`[${s}=location-count]`,locationInput:`[${s}=location-input]`,titleInput:`[${s}=title-input]`,searchButton:`[${s}=search-btn]`,name:`[${s}=name]`,input:`[${s}=input]`,checkbox:`[${s}=checkbox]`,loadMore:`[${s}=load-more]`,title:`[${s}=title]`,time:`[${s}=time]`,location:`[${s}=location]`,description:`[${s}=description]`,jobRequisitionId:`[${s}=job-requisition-id]`,subCategory:o=>`[${s}-sub-category="${o}"]`};var T="Sales",J="Service",A="Overhead",x="Parts",m=[T,J,A,x];var f="https://cors-middleware.lithia.workers.dev/";var u=class{constructor(){this.jobs=null}async fetchJobs(){if(this.jobs)return Promise.resolve(this.jobs);let{Report_Entry:t}=await this.fetchJobsFromAPI()||{};return t&&(this.jobs=t),Promise.resolve(this.jobs)}async fetchJobsFromAPI(){try{return await(await fetch(`${f}jobs`)).json()}catch(t){return console.error("Error fetching jobs",t),null}}};var h=()=>{document.querySelectorAll(".popup_content a").forEach(t=>{let e=t.textContent||"",[n]=e.split("Opportunities");n=n.trim();let r="/opportunities";if(n==="View")r="/opportunities?category=Corporate";else{let i=m.includes(n)?"Store":"Corporate";r+="?subcategory="+n+"&category="+i}t.setAttribute("href",r)})};var b=o=>E(o,"State"),S=o=>{let t=j(o);return{Sales:[...t.Sales||[]],Service:[...t.Service||[]],Parts:[...t.Parts||[]],Overhead:[...t.Operations||[],...t.Administrative||[],...t.Marketing||[],...t["Customer Service"]||[]],Driveway:[...t["Body Shop"]||[],...t.Analytics||[],...t["Real Estate"]||[],...t["Real Estate"]||[]],"Driveway Finance":[...t["Finance/Accounting"]||[]],"Lithia Corporate":[...t["Information Technology & Digital Innovation"]||[],...t["Human Resources"]||[]]}},j=o=>E(o,"EE_Categories_lower_level"),E=(o,t)=>{let e={};return o.filter(r=>r[t]).forEach(r=>{let i=r[t]||"";e[i]||(e[i]=[]),e[i].push(r)}),e};var g=o=>{let t=S(o);Object.keys(t).forEach(e=>{let n=t[e],r=b(n),i=Object.keys(r).length,c=document.querySelector(a.subCategory(e));if(c){let p=c.querySelector(a.count);p&&(p.textContent=n.length.toString());let l=c.querySelector(a.locationCount);l&&(l.textContent=i.toString())}})};var C=(o,t="",e=document.body)=>{e.querySelectorAll(a.positionsCount).forEach(r=>{r.textContent=o.toLocaleString()+t})};var L=o=>{let t=b(o),e=document.querySelector(a.usLoadAll);if(!e)return;let n=e.childNodes[0].cloneNode(!0);if(!n)return;let{style:{display:r}}=n,i=6;v(e,t,n,i);let c=document.querySelector(a.loadMore);c&&O(c,e,i,r)},v=(o,t,e,n=6)=>{o.innerHTML="";let r=Object.entries(t);r.sort(([i],[c])=>i.localeCompare(c)),r.forEach(([i,c],p)=>{let l=e.cloneNode(!0),y=l.querySelector(a.count),d=l.querySelector(a.name);y&&(y.innerHTML=`${c.length}`),d&&(d.innerHTML=i),o.appendChild(l),p>=n&&(l.style.display="none")})},O=(o,t,e,n)=>{o.addEventListener("click",r=>{r.preventDefault(),o.getAttribute("action")==="load-less"?(o.setAttribute("action","load-all"),t.childNodes.forEach((c,p)=>{p>=e&&(c.style.display="none")}),o.textContent="Load All",t.scrollIntoView()):(t.childNodes.forEach(c=>{c.style.display=n}),o.setAttribute("action","load-less"),o.textContent="Load Less")})};var w=(o=document.body)=>{o.querySelectorAll(a.viewOpportunities).forEach(e=>{e.addEventListener("click",n=>{let i=n.currentTarget.getAttribute("data-query")||"";window.open(`${window.location.origin}/opportunities${i}`,"_blank")})})};window.Webflow||(window.Webflow=[]);window.Webflow.push(async()=>{let t=await new u().fetchJobs();t?(C(t.length),L(t),g(t),w(),h()):console.error("Error fetching jobs")});})();
