"use strict";(()=>{var t="data",n={apartmentCmsItem:`[${t}=apartment-cms-item]`,countryCode:`[${t}=country-code]`,startingPriceList:`[${t}=starting-price-list]`,price:`[${t}=price]`,currency:`[${t}=currency]`,beHid:`[${t}-be-hid]`,destination:`[${t}=destination]`,offersList:`[${t}=offers-list]`,listItem:`[${t}=list-item]`,image:`[${t}=image]`,name:`[${t}=name]`,description:`[${t}=description]`,hotelName:`[${t}=hotel-name]`,hotelLink:`[${t}=hotel-link]`,moreDetails:`[${t}=more-details]`,offersPopup:`[${t}=offers-popup]`,offersPopupClose:`[${t}=close-btn]`,hotelReserveLink:`[${t}=hotel-reserve-link]`,hotelVillaReserveLink:`[${t}=hotel-villa-reserve-link]`,languageDropdown:`[${t}=language-dropdown]`,startingfromItem:u=>`[${t}-be-hid=${u}]`};var E={DHDICBeach:"gpgos12767",DHDIJMalanga:"gptro12772",DHDIToubana:"gpsai12770",DHDIMahogany:"gpgos12769",DHDILangleyres:"gpgua27143",DHDIJungle:"mqros18592",DHDIJade:"agste21689",DHDIWINDLAND:"zzzzz25376",DHDILeCapMaison:"lcgro30400",DHDIChastenet:"agste21688",DHDILPSoleil:"mqsai18593",DHDISHANTI:"zzzzz25378",DHDIPavillon:"zzzzz25377",DHDIBELLEMARE:"zzzzz25379",DHDIPrincemaurice:"mupos25678",DHDIANAHITA:"zzzzz25380",DHDISamana:"agstm21687",FRANTHTLGrandCaseBe1:"frsai31536",DHDITInn:"ageng20433",DHDIBWaters:"agcro20496",DHDICuisinartgolf:"gpang25884"},h={gpgos12767:{destination:"\xCEles de Guadeloupe",slug:"/hotels-et-villas/creole-beach-hotel-spa"},gptro12772:{destination:"\xCEles de Guadeloupe",slug:"/hotels-et-villas/le-jardin-malanga"},gpsai12770:{destination:"\xCEles de Guadeloupe",slug:"/hotels-et-villas/la-toubana-hotel-spa"},gpgos12769:{destination:"\xCEles de Guadeloupe",slug:"/hotels-et-villas/mahogany-hotel-residence-spa"},gpgua27143:{destination:"\xCEles de Guadeloupe",slug:"/hotels-et-villas/langley-resort-fort-royal"},mqros18592:{destination:"Dominique",slug:"/hotels-et-villas/jungle-bay-dominica"},agste21689:{destination:"Sainte-Lucie",slug:"/hotels-et-villas/jade-mountain"},zzzzz25376:{destination:"Sainte-Lucie",slug:"/hotels-et-villas/windjammer-landing"},lcgro30400:{destination:"Sainte-Lucie",slug:"/hotels-et-villas/cap-maison"},agste21688:{destination:"Sainte-Lucie",slug:"/hotels-et-villas/anse-chastanet"},mqsai18593:{destination:"Martinique",slug:"/hotels-et-villas/plein-soleil"},zzzzz25378:{destination:"ile Maurice",slug:"/hotels-et-villas/shanti-maurice"},zzzzz25377:{destination:"ile Maurice",slug:"/hotels-et-villas/lux-le-morne"},zzzzz25379:{destination:"ile Maurice",slug:"/hotels-et-villas/constance-belle-mare-plage"},mupos25678:{destination:"ile Maurice",slug:"/hotels-et-villas/constance-le-prince-maurice"},zzzzz25380:{destination:"ile Maurice",slug:"/hotels-et-villas/anahita-the-resort"},agstm21687:{destination:"Saint-Martin",slug:"/hotels-et-villas/la-samanna"},frsai31536:{destination:"Saint Martin",slug:"/hotels-et-villas/le-grand-case-beach-club"},ageng20433:{destination:"Antigua",slug:"/hotels-et-villas/the-inn-at-english-harbour"},agcro20496:{destination:"Antigua",slug:"/hotels-et-villas/blue-waters"},gpang25884:{destination:"Anguilla",slug:"/hotels-et-villas/aurora-anguilla-resort-golf-club"}},M={AED:"\u062F.\u0625.",AFN:"Af",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"AR$",AUD:"AU$",AWG:"\u0192",AZN:"\u043C\u0430\u043D",BAM:"KM",BBD:"BBD$",BDT:"\u09F3",BGN:"\u043B\u0432.",BHD:"BD",BIF:"FBu",BMD:"$",BND:"B$",BOB:"Bs.",BRL:"R$",BSD:"$",BTN:"Nu.",BWP:"P",BYN:"Br",BZD:"BZ$",CAD:"CA$",CDF:"FC",CHF:"Fr.",CKD:"$",CLP:"CL$",CNY:"CN\xA5",COP:"CO$",CRC:"\u20A1",CUC:"CUC$",CUP:"$MN",CVE:"CV$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr.",DOP:"RD$",DZD:"DA",EGP:"E\xA3",EHP:"Ptas.",ERN:"Nkf",ETB:"Br",EUR:"\u20AC",FJD:"FJ$",FKP:"FK\xA3",FOK:"kr",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"G$",HKD:"HK$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"Rs.",IQD:"\u062F.\u0639.",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u0441",KHR:"\u17DB",KID:"$",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"CI$",KZT:"\u20B8",LAK:"\u20ADN",LBP:"LL.",LKR:"Rs.",LRD:"L$",LSL:"L",LYD:"LD",MAD:"DH",MDL:"L",MGA:"Ar",MKD:"den",MMK:"Ks",MNT:"\u20AE",MOP:"MOP$",MRU:"UM",MUR:"Rs.",MVR:"MRf",MWK:"MK",MXN:"MX$",MYR:"RM",MZN:"MTn",NAD:"N$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"Rs.",NZD:"NZ$",OMR:"OR",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"Rs.",PLN:"z\u0142",PND:"$",PRB:"\u0440.",PYG:"\u20B2",QAR:"QR",RON:"L",RSD:"din",RUB:"\u20BD",RWF:"FRw",SAR:"SR",SBD:"SI$",SCR:"Rs.",SDG:"\xA3SD",SEK:"kr",SGD:"S$",SHP:"\xA3",SLL:"Le",SLS:"Sl",SOS:"Sh.So.",SRD:"Sr$",SSP:"SS\xA3",STN:"Db",SVC:"\u20A1",SYP:"LS",SZL:"L",THB:"\u0E3F",TJS:"SM",TMT:"m.",TND:"DT",TOP:"T$",TRY:"TL",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u0441\u0443\u043C",VED:"Bs.",VES:"Bs.F",VND:"\u20AB",VUV:"VT",WST:"T",XAF:"Fr",XCD:"$",XOF:"\u20A3",XPF:"\u20A3",YER:"YR",ZAR:"R",ZMW:"ZK",ZWB:"",ZWL:"Z$",Abkhazia:"",Artsakh:"\u0564\u0580."},H={it:"it_IT",es:"es_ES",fr:"fr_FR",en:"en_GB"},R="https://deshotelsetdesiles.ccordier.workers.dev/";var I=u=>{let e="?";for(let[s,i]of Object.entries(u))i&&(e+=`${s}=${i}&`);return e};var P=()=>{document.querySelector(n.languageDropdown)?.querySelectorAll("a")?.forEach(s=>{s.addEventListener("click",()=>{})})},$=()=>{let u=localStorage.getItem("wglang")||"fr";return H[u]};var f=class{constructor(e,s,i){this.listInstance=e,this.itemTemplateElement=s;let o=i.splice(2);this.hotelsIds=[i,o],e.clearItems(),P()}async getGroupOffers(e=!1){e&&this.listInstance.clearItems();for(let s of this.hotelsIds){let i=s.join(","),a=await this.getGroupOffersData({hids:i,locale:$()});if(a)for(let{prop:o,rates:r}of a.data){let c=r.map(l=>this.createItem(o,l,this.itemTemplateElement));this.listInstance.addItems(c)}}}async getGroupOffersData(e){let s=R+"groupOffers"+I(e),a=await(await fetch(s)).json();return a.error||!a.data?null:a}createItem(e,s,i){let{rate:a,quotation:o}=s,{hid:r,title:c}=e,{image:l,title:D,plain_description:L}=a,{destination:m,slug:d}=h[r],g=i.cloneNode(!0);this.bindOffersMetaData(g,{destination:m,image:l,hotelName:c,title:D,slug:d}),this.bindQuotationData(g,o);let S=g.querySelector(n.moreDetails);return S&&S.addEventListener("click",()=>{let p=g.querySelector(n.offersPopup);if(p){this.bindOffersMetaData(p,{destination:m,image:l,hotelName:c,title:D,slug:d,description:L}),this.bindQuotationData(p,o),p.style.opacity="1",p.style.display="flex";let T=g.querySelector(n.offersPopupClose);T&&T.addEventListener("click",()=>{p.style.opacity="0",p.style.display="none"})}}),g}bindOffersMetaData(e,{destination:s,image:i,hotelName:a,title:o,slug:r,description:c}){let l=e.querySelector(n.destination),D=e.querySelector(n.image),L=e.querySelector(n.hotelName),m=e.querySelector(n.name),d=e.querySelector(n.description),g=e.querySelector(n.hotelLink);l&&(l.textContent=s),D&&(D.src=i?.url),L&&(L.innerHTML=a),m&&(m.innerHTML=o),d&&c&&(d.textContent=c),g&&r&&g.addEventListener("click",()=>{window.location.href=r})}bindQuotationData(e,s){let{pricePerNight:i,currency:a,plainBookLink:o}=s,r=e.querySelector(n.price);r&&(r.innerHTML=i);let c=e.querySelector(n.currency);c&&(c.innerHTML=M[a]);let l=e.querySelector(n.hotelReserveLink);l&&(l.href=o);let D=e.querySelector(n.hotelVillaReserveLink);D&&(D.href=o)}};window.fsAttributes=window.fsAttributes||[];window.fsAttributes.push(["cmsfilter",async u=>{let[e]=u,{listInstance:s}=e,[i]=s.items,a=i.element,o=["gpgua27143","mqsai18593"],r=Object.values(E).filter(l=>!o.includes(l));await new f(s,a,r).getGroupOffers()}]);})();
